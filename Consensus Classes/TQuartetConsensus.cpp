#include "TQuartetConsensus.h"#include "TTabString.h"#include "DialogIDs.h"extern BOOL gAborted;#if PRAGMA_MARK_SUPPORTED#pragma mark -#endifvoid TQuartetConsensus::addTree (void){	fCurSourceTree.DistanceMatrix (fDistanceMatrix);	fQuartetSet.AddQuartets (fDistanceMatrix, fCurSourceTree.GetWeight ());}void TQuartetConsensus::Consensus (void){	MonitorDialog = TheApp->CreateMonitor (dlgProgressBar);	MonitorDialog->Show ();		for (bool b = fQuartetSet.FirstPartition (); !gAborted && b; b = fQuartetSet.NextPartition ())	{				TString progressBarName = (IsRooted () ? "Triplet Partition ": "Quartet Partition ");		progressBarName.AddToThis (fQuartetSet.GetCurPartitionNumber ());		progressBarName.AddToThis (" (of ");		progressBarName.AddToThis (fQuartetSet.GetPartitions ());		progressBarName.AddToThis (")");				MonitorDialog->SetItemText (4, progressBarName.Array ());		fTreesDone = 0;		fWeightsDone = 0;				consensus (MonitorDialog);		if (!gAborted)			storeQuartets ();	}	if (!gAborted)		averageQuartets ();			TheApp->DestroyDialog ();}TQuartetConsensus::TQuartetConsensus (const TSourceTreesFile* sourceTreesFile)	: 	TIntersectionConsensus (sourceTreesFile)	, 	fDistanceMatrix (fConsensusLeafSet.GetLeaves ())	,	fQuartetSet (fConsensusLeafSet.GetLeaves (), IsRooted ()){}TQuartetConsensus::TQuartetConsensus (const TQuartetConsensus& quartetConsensus)	: 	TIntersectionConsensus (quartetConsensus)	, 	fDistanceMatrix (quartetConsensus.fDistanceMatrix)	,	fQuartetSet (quartetConsensus.fQuartetSet){}TQuartetConsensus::~TQuartetConsensus (void) { }#if PRAGMA_MARK_SUPPORTED#pragma mark -#endif