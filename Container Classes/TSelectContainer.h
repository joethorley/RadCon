#ifndef _TSELECTCONTAINER_H#define _TSELECTCONTAINER_H#include "TArryContainer.h"#include "TItemSet.h"class TSelectContainerIterator;class TSelectContainerIteratorConst;class TSelectContainer : public TArryContainer{	friend class TSelectContainerIterator;	friend class TSelectContainerIteratorConst;	public:		TSelectContainer (void) : TArryContainer () { };		TSelectContainer (const TSelectContainer& selectContainer) : TArryContainer () { fItemSet = selectContainer.fItemSet; };		virtual void							AddItem (const TObject&) = 0;		virtual void							AddItem (TObject*) = 0;		virtual ClassType						Class (void) const { return ((ClassType)(kTSelectContainerClass)); };		virtual TObject*						Clone (void) const = 0; 		virtual void							Copy (const TObject& obj);				virtual bool							CurItem (void) const { return (CurItem (false)); };		virtual bool							CurItem (TObject*& item) { return (CurItem (item, false)); };		virtual bool							CurItem (const TObject*& item) const { return (CurItem (item, false)); };		virtual bool							CurItem (const bool selected) const { return (IthItem (fCurItem, selected)); };		virtual bool							CurItem (TObject*& item, const bool selected) { return (IthItem (fCurItem, item, selected)); };		virtual bool							CurItem (const TObject*& item, const bool selected) const { return (IthItem (fCurItem, item, selected)); }; 		virtual void							DeleteAll (void) { DeleteAll (false); }; 		virtual void							DeleteAll (const bool selected);	 	virtual void							DeleteItem (void) { DeleteItem (false); };	 	virtual void							DeleteItem (const bool selected); 		virtual void							DetachItem (TObject*&) = 0; 		virtual void							DetachItem (TObject*&, const bool selected) = 0;		virtual bool							FirstItem (void) const { return (FirstItem (false)); };		virtual bool							FirstItem (TObject*& item) { return (FirstItem (item, false)); };		virtual bool							FirstItem (const TObject*& item) const { return (FirstItem (item, false)); };		virtual bool							FirstItem (const bool selected) const { return (IthItem (((TSelectContainer*)this)->fCurItem = 1, selected)); };		virtual bool							FirstItem (TObject*& item, const bool selected) { return (IthItem (fCurItem = 1, item, selected)); };		virtual bool							FirstItem (const TObject*& item, const bool selected) const { return (IthItem (((TSelectContainer*)this)->fCurItem = 1, item, selected)); };		virtual bool							IsEmpty (void) const { return (IsEmpty (false)); };		virtual bool							IsEmpty (const bool selected) const { return ((bool)(!GetItems (selected))); };	    virtual TContainerIterator& 			Iterator (void) = 0;		virtual TContainerIteratorConst&		IteratorConst (void) const = 0;		virtual unsigned int						GetItems (void) const { return (GetItems (false)); };		virtual unsigned int						GetItems (const bool selected) const { return  (selected ? fItemSet.GetItems () : TArryContainer::GetItems ()); };		virtual bool							IthItem (const unsigned int) const = 0;		virtual bool							IthItem (const unsigned int, TObject*&) = 0;		virtual bool							IthItem (const unsigned int, const TObject*&) const = 0;		virtual bool							IthItem (const unsigned int, const bool selected) const = 0;		virtual bool							IthItem (const unsigned int, TObject*&, const bool selected) = 0;		virtual bool							IthItem (const unsigned int, const TObject*&, const bool selected) const = 0;		virtual TObject&						IthItemRef (const unsigned int) = 0;				virtual const TObject&					IthItemRef (const unsigned int) const = 0;		virtual TObject&						IthItemRef (const unsigned int, const bool selected) = 0;				virtual const TObject&					IthItemRef (const unsigned int, const bool selected) const = 0;		virtual bool							LastItem (void) const { return (LastItem (false)); };		virtual bool							LastItem (TObject*& item) { return (LastItem (item, false)); };		virtual bool							LastItem (const TObject*& item) const { return (LastItem (item, false)); };		virtual bool							LastItem (const bool selected) const { return (IthItem (((TSelectContainer*)this)->fCurItem = GetItems (selected), selected)); };		virtual bool							LastItem (TObject*& item, const bool selected) { return (IthItem (fCurItem = GetItems (selected), item, selected)); };		virtual bool							LastItem (const TObject*& item, const bool selected) const { return (IthItem (((TSelectContainer*)this)->fCurItem = GetItems (selected), item, selected)); };		virtual bool							NextItem (void) const { return (NextItem (false)); };		virtual bool							NextItem (TObject*& item) { return (NextItem (item, false)); };		virtual bool							NextItem (const TObject*& item) const { return (NextItem (item, false)); };		virtual bool							NextItem (const bool selected) const { return (CurItem (selected) ? IthItem (((TSelectContainer*)this)->fCurItem += 1, selected) : false); };		virtual bool							NextItem (TObject*& item, const bool selected) { return (CurItem (selected) ? IthItem (fCurItem += 1, item, selected) : false); };		virtual bool							NextItem (const TObject*& item, const bool selected) const { return (CurItem (selected) ? IthItem (((TSelectContainer*)this)->fCurItem += 1, item, selected) : false); };				virtual bool							PrevItem (void) const { return (PrevItem (false)); };		virtual bool							PrevItem (TObject*& item) { return (PrevItem (item, false)); };		virtual bool							PrevItem (const TObject*& item) const { return (PrevItem (item, false)); };				virtual bool							PrevItem (const bool selected) const { return (CurItem (selected) ? IthItem (((TSelectContainer*)this)->fCurItem -= 1, selected) : false); };		virtual bool							PrevItem (TObject*& item, const bool selected) { return (CurItem (selected) ? IthItem (fCurItem -= 1, item, selected) : false); };		virtual bool							PrevItem (const TObject*& item, const bool selected) const { return (CurItem (selected) ? IthItem (((TSelectContainer*)this)->fCurItem -= 1, item, selected) : false); };				virtual bool							IsIthSelected (const unsigned int i) const { return (fItemSet.IsItem (i)); };		virtual bool							IsAllSelected (const bool selected = true) const { return (selected ? (bool)(fItemSet.GetItems () == GetItems (false)) : (bool)(!fItemSet.GetItems ())); };		virtual unsigned int						IthSelection (const unsigned int i, const bool selected = true) const;		virtual const TItemSet&					ItemSet (void) const { return (fItemSet); };				virtual void							SelectIth (const unsigned int i, const bool select = true) { CHECK (i <= GetItems (false)); select ? fItemSet.AddToThis (i) : fItemSet.SubtractFromThis (i); };		virtual void							SelectAll (const bool select = true) { select ? fItemSet.SetFull (GetItems (false)) : fItemSet.SetEmpty (); };		virtual void							SelectSet (const TItemSet& itemSet, const bool select = true) { CHECK (itemSet.LastItem () <= GetItems (false)); select ? fItemSet.AddToThis (itemSet) : fItemSet.SubtractFromThis (itemSet); };		virtual void							SetSelection (const TItemSet& itemSet) { CHECK (itemSet.LastItem () <= GetItems ()); fItemSet = itemSet; };			virtual ostream&						Write (ostream& o) const { return (Write (o, false)); };		virtual ostream&						Write (ostream& o, const bool selected) const;		protected:		TItemSet								fItemSet;};class TSelectContainerIterator : public TArryContainerIterator{	friend class TSelectContainerIteratorConst;	public:	  		TSelectContainerIterator (TSelectContainer& selectContainer) : TArryContainerIterator (selectContainer) {  };		TSelectContainerIterator (const TSelectContainerIterator& selectContainerIterator) : TArryContainerIterator (selectContainerIterator) {  };		virtual bool							CurItem (void) const { return (CurItem (false)); };		virtual bool							CurItem (TObject*& item) const { return (CurItem (item, false)); };		virtual bool							CurItem (const bool selected) const { return (IthItem (fCurItem, selected)); };		virtual bool							CurItem (TObject*& item, const bool selected) const { return (IthItem (fCurItem, item, selected)); };		virtual bool							FirstItem (void) { return (FirstItem (false)); };		virtual bool							FirstItem (TObject*& item) { return (FirstItem (item, false)); };		virtual bool							FirstItem (const bool selected) { return (IthItem (fCurItem = 1, selected)); };		virtual bool							FirstItem (TObject*& item, const bool selected) { return (IthItem (fCurItem = 1, item, selected)); };		virtual bool							IthItem (const unsigned int) const = 0;		virtual bool							IthItem (const unsigned int, TObject*& item) const = 0;		virtual bool							IthItem (const unsigned int, const bool selected) const = 0;		virtual bool							IthItem (const unsigned int, TObject*& item, const bool selected) const = 0;		virtual TObject&						IthItemRef (const unsigned int) const = 0;		virtual TObject&						IthItemRef (const unsigned int, const bool selected) const = 0;		virtual bool							LastItem (void) = 0;		virtual bool							LastItem (TObject*& item) = 0;		virtual bool							LastItem (const bool selected) = 0;		virtual bool							LastItem (TObject*& item, const bool selected) = 0;				virtual bool							NextItem (void) { return (NextItem (false)); };		virtual bool							NextItem (TObject*& item) { return (NextItem (item, false)); };		virtual bool							NextItem (const bool selected) { return (CurItem (selected) ? IthItem (fCurItem += 1, selected) : false); };		virtual bool							NextItem (TObject*& item, const bool selected) { return (CurItem (selected) ? IthItem (fCurItem += 1, item, selected) : false); };		virtual bool							PrevItem (void) { return (PrevItem (false)); };		virtual bool							PrevItem (TObject*& item) { return (PrevItem (item, false)); };		virtual bool							PrevItem (const bool selected) { return (CurItem (selected) ? IthItem (fCurItem -= 1, selected) : false); };		virtual bool							PrevItem (TObject*& item, const bool selected) { return (CurItem (selected) ? IthItem (fCurItem -= 1, item, selected) : false); };};class TSelectContainerIteratorConst : public TArryContainerIteratorConst{	public:	  		TSelectContainerIteratorConst (const TSelectContainer& selectContainer) : TArryContainerIteratorConst (selectContainer) {  };		TSelectContainerIteratorConst (const TSelectContainerIterator& selectContainerIterator) : TArryContainerIteratorConst (selectContainerIterator) {  };		TSelectContainerIteratorConst (const TSelectContainerIteratorConst& selectContainerIteratorConst) : TArryContainerIteratorConst (selectContainerIteratorConst) {  };			virtual bool							CurItem (void) const { return (CurItem (false)); };		virtual bool							CurItem (const TObject*& item) const { return (CurItem (item, false)); };		virtual bool							CurItem (const bool selected) const { return (IthItem (fCurItem, selected)); };		virtual bool							CurItem (const TObject*& item, const bool selected) const { return (IthItem (fCurItem, item, selected)); };		virtual bool							FirstItem (void) { return (FirstItem (false)); };		virtual bool							FirstItem (const TObject*& item) { return (FirstItem (item, false)); };		virtual bool							FirstItem (const bool selected) { return (IthItem (fCurItem = 1, selected)); };		virtual bool							FirstItem (const TObject*& item, const bool selected) { return (IthItem (fCurItem = 1, item, selected)); };		virtual bool							IthItem (const unsigned int) const = 0;		virtual bool							IthItem (const unsigned int, const TObject*& item) const = 0;		virtual bool							IthItem (const unsigned int, const bool selected) const = 0;		virtual bool							IthItem (const unsigned int, const TObject*& item, const bool selected) const = 0;		virtual const TObject&					IthItemRef (const unsigned int) const = 0;		virtual const TObject&					IthItemRef (const unsigned int, const bool selected) const = 0;		virtual bool							LastItem (void) = 0;		virtual bool							LastItem (const TObject*& item) = 0;		virtual bool							LastItem (const bool selected) = 0;		virtual bool							LastItem (const TObject*& item, const bool selected) = 0;				virtual bool							NextItem (void) { return (NextItem (false)); };		virtual bool							NextItem (const TObject*& item) { return (NextItem (item, false)); };		virtual bool							NextItem (const bool selected) { return (CurItem (selected) ? IthItem (fCurItem += 1, selected) : false); };		virtual bool							NextItem (const TObject*& item, const bool selected) { return (CurItem (selected) ? IthItem (fCurItem += 1, item, selected) : false); };		virtual bool							PrevItem (void) { return (PrevItem (false)); };		virtual bool							PrevItem (const TObject*& item) { return (PrevItem (item, false)); };		virtual bool							PrevItem (const bool selected) { return (CurItem (selected) ? IthItem (fCurItem -= 1, selected) : false); };		virtual bool							PrevItem (const TObject*& item, const bool selected) { return (CurItem (selected) ? IthItem (fCurItem -= 1, item, selected) : false); };};#endif // _TSELECTCONTAINER_H